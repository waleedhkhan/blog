import{readdirSync as f,statSync as l}from"node:fs";import{join as p,relative as y,resolve as m}from"pathe";var n=e=>s=>s;var c=(e,s=e)=>{let i=f(e),o=[];for(let r of i){let t=p(e,r);if(l(t).isDirectory()){let a=c(t,s);o=o.concat(a)}else{let a=y(s,t);o.push(a)}}return o},H=n("astro:config:setup")(({addWatchFile:e,command:s,updateConfig:i},o)=>{if(s!=="dev")return;let r=c(o).map(t=>m(o,t));for(let t of r)e(t);i({vite:{plugins:[{name:`rollup-aik-watch-directory-${o}`,buildStart(){for(let t of r)this.addWatchFile(t)}}]}})});export{H as watchDirectory};
//# sourceMappingURL=watch-directory.js.map