{"version":3,"sources":["../../src/core/define-utility.ts","../../src/utilities/inject-dev-route.ts"],"sourcesContent":["import type { HookParameters, Hooks } from \"./types.js\";\n\n/**\n * Allows defining a type-safe function requiring all the params of a given hook.\n * It uses currying to make TypeScript happy.\n *\n * @param {string} _hook\n *\n * @see https://astro-integration-kit.netlify.app/utilities/define-utility/\n *\n * @example\n * ```ts\n * const test = defineUtility(\"astro:config:setup\")((params, foo: boolean) => {\n *  return \"bar\";\n * });\n * ```\n */\nexport const defineUtility =\n\t<THook extends keyof Hooks>(_hook: THook) =>\n\t/**\n\t * The function itself\n\t * @param {Function} fn;\n\t */\n\t<TFn extends (params: HookParameters<THook>, ...args: Array<any>) => any>(\n\t\tfn: TFn,\n\t) =>\n\t\tfn;\n","import type { InjectedRoute } from \"astro\";\nimport { defineUtility } from \"../core/define-utility.js\";\n\n/**\n * Allows you to inject a route in development only\n *\n * @param {import(\"astro\").HookParameters<\"astro:config:setup\">} params\n * @param {object} options\n * @param {import(\"astro\").InjectedRoute} options.injectedRoute\n *\n * @example\n * ```ts\n * injectDevRoute(params, {\n * \t\tpattern: \"/foo\",\n * \t\tentrypoint: resolve(\"./pages/foo.astro\")\n * })\n * ```\n *\n * @see https://astro-integration-kit.netlify.app/utilities/inject-dev-route/\n */\nexport const injectDevRoute = defineUtility(\"astro:config:setup\")(\n\t({ command, injectRoute }, injectedRoute: InjectedRoute) => {\n\t\tif (command === \"dev\") {\n\t\t\tinjectRoute(injectedRoute);\n\t\t}\n\t},\n);\n"],"mappings":"AAiBO,IAAMA,EACgBC,GAM3BC,GAEAA,ECNK,IAAMC,EAAiBC,EAAc,oBAAoB,EAC/D,CAAC,CAAE,QAAAC,EAAS,YAAAC,CAAY,EAAGC,IAAiC,CACvDF,IAAY,OACfC,EAAYC,CAAa,CAE3B,CACD","names":["defineUtility","_hook","fn","injectDevRoute","defineUtility","command","injectRoute","injectedRoute"]}