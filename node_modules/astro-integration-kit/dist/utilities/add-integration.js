import"astro";var i=t=>e=>e;import{AstroError as f}from"astro/errors";var d=i("astro:config:setup")(({config:t},{name:e,position:o,relativeTo:r})=>{let n=t.integrations.findIndex(s=>s.name===e);if(n===-1)return!1;if(o===void 0)return!0;if(r===void 0)throw new f("Cannot perform a relative integration check without a relative reference.","Pass `relativeTo` on your call to `hasIntegration` or remove the `position` option.");let a=t.integrations.findIndex(s=>s.name===r);if(a===-1)throw new f("Cannot check relative position against an absent integration.");return o==="before"?n<a:n>a});var c=i("astro:config:setup")((t,{integration:e,ensureUnique:o})=>{let{logger:r,updateConfig:n}=t;if(o&&d(t,{name:e.name})){r.warn(`Integration "${e.name}" has already been added by the user or another integration. Skipping.`);return}n({integrations:[e]})});export{c as addIntegration};
//# sourceMappingURL=add-integration.js.map