var f=t=>t;var u=t=>n=>n;function r(t){let n=[];if(t){for(let o of t)if(o){if(Array.isArray(o)){n.push(...r(o));continue}o instanceof Promise||n.push(o.name)}}return n}var a=u("astro:config:setup")(({config:t},{plugin:n})=>{if(!n||n instanceof Promise)return!1;let o=new Set(r(t?.vite?.plugins)),e=new Set;if(typeof n=="string"&&e.add(n),typeof n=="object")if(Array.isArray(n)){let i=new Set(r(n));for(let g of i)e.add(g)}else e.add(n.name);return[...e].some(i=>o.has(i))});function s(t,n){if(n){for(let o of n)if(o){if(Array.isArray(o)){s(t,o);continue}o instanceof Promise||t.add(o)}}return t}var d=f({name:"hasVitePlugin",setup(){return{"astro:config:setup":t=>{let n=s(new Set,t.config.vite?.plugins),{updateConfig:o,config:e}=t;return t.updateConfig=i=>(e.vite.plugins=Array.from(s(n,i.vite?.plugins)),o(i)),{hasVitePlugin:i=>a(t,{plugin:i})}}}}});export{d as hasVitePluginPlugin};
//# sourceMappingURL=has-vite-plugin.js.map