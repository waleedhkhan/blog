{
  "version": 3,
  "sources": ["../../@astrojs/vue/client.js", "../../@astrojs/vue/static-html.js"],
  "sourcesContent": ["import { setup } from 'virtual:@astrojs/vue/app';\nimport { Suspense, createApp, createSSRApp, h } from 'vue';\nimport StaticHtml from './static-html.js';\n\n// keep track of already initialized apps, so we don't hydrate again for view transitions\nlet appMap = new WeakMap();\n\nexport default (element) =>\n\tasync (Component, props, slotted, { client }) => {\n\t\tif (!element.hasAttribute('ssr')) return;\n\n\t\t// Expose name on host component for Vue devtools\n\t\tconst name = Component.name ? `${Component.name} Host` : undefined;\n\t\tconst slots = {};\n\t\tfor (const [key, value] of Object.entries(slotted)) {\n\t\t\tslots[key] = () => h(StaticHtml, { value, name: key === 'default' ? undefined : key });\n\t\t}\n\n\t\tconst isHydrate = client !== 'only';\n\t\tconst bootstrap = isHydrate ? createSSRApp : createApp;\n\n\t\t// keep a reference to the app, props and slots so we can update a running instance later\n\t\tlet appInstance = appMap.get(element);\n\n\t\tif (!appInstance) {\n\t\t\tappInstance = {\n\t\t\t\tprops,\n\t\t\t\tslots,\n\t\t\t};\n\t\t\tconst app = bootstrap({\n\t\t\t\tname,\n\t\t\t\trender() {\n\t\t\t\t\tlet content = h(Component, appInstance.props, appInstance.slots);\n\t\t\t\t\tappInstance.component = this;\n\t\t\t\t\t// related to https://github.com/withastro/astro/issues/6549\n\t\t\t\t\t// if the component is async, wrap it in a Suspense component\n\t\t\t\t\tif (isAsync(Component.setup)) {\n\t\t\t\t\t\tcontent = h(Suspense, null, content);\n\t\t\t\t\t}\n\t\t\t\t\treturn content;\n\t\t\t\t},\n\t\t\t});\n\t\t\tapp.config.idPrefix = element.getAttribute('prefix');\n\t\t\tawait setup(app);\n\t\t\tapp.mount(element, isHydrate);\n\t\t\tappMap.set(element, appInstance);\n\t\t\telement.addEventListener('astro:unmount', () => app.unmount(), { once: true });\n\t\t} else {\n\t\t\tappInstance.props = props;\n\t\t\tappInstance.slots = slots;\n\t\t\tappInstance.component.$forceUpdate();\n\t\t}\n\t};\n\nfunction isAsync(fn) {\n\tconst constructor = fn?.constructor;\n\treturn constructor && constructor.name === 'AsyncFunction';\n}\n", "import { defineComponent, h } from 'vue';\n\n/**\n * Astro passes `children` as a string of HTML, so we need\n * a wrapper `div` to render that content as VNodes.\n *\n * This is the Vue + JSX equivalent of using `<div v-html=\"value\" />`\n */\nconst StaticHtml = defineComponent({\n\tprops: {\n\t\tvalue: String,\n\t\tname: String,\n\t\thydrate: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tsetup({ name, value, hydrate }) {\n\t\tif (!value) return () => null;\n\t\tlet tagName = hydrate ? 'astro-slot' : 'astro-static-slot';\n\t\treturn () => h(tagName, { name, innerHTML: value });\n\t},\n});\n\n/**\n * Other frameworks have `shouldComponentUpdate` in order to signal\n * that this subtree is entirely static and will not be updated\n *\n * Fortunately, Vue is smart enough to figure that out without any\n * help from us, so this just works out of the box!\n */\n\nexport default StaticHtml;\n"],
  "mappings": ";;;;;;;;;;AAAA,SAAS,aAAa;;;ACQtB,IAAM,aAAa,gBAAgB;AAAA,EAClC,OAAO;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,SAAS;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACD;AAAA,EACA,MAAM,EAAE,MAAM,OAAO,QAAQ,GAAG;AAC/B,QAAI,CAAC,MAAO,QAAO,MAAM;AACzB,QAAI,UAAU,UAAU,eAAe;AACvC,WAAO,MAAM,EAAE,SAAS,EAAE,MAAM,WAAW,MAAM,CAAC;AAAA,EACnD;AACD,CAAC;AAUD,IAAO,sBAAQ;;;AD3Bf,IAAI,SAAS,oBAAI,QAAQ;AAEzB,IAAO,iBAAQ,CAAC,YACf,OAAO,WAAW,OAAO,SAAS,EAAE,OAAO,MAAM;AAChD,MAAI,CAAC,QAAQ,aAAa,KAAK,EAAG;AAGlC,QAAM,OAAO,UAAU,OAAO,GAAG,UAAU,IAAI,UAAU;AACzD,QAAM,QAAQ,CAAC;AACf,aAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,OAAO,GAAG;AACnD,UAAM,GAAG,IAAI,MAAM,EAAE,qBAAY,EAAE,OAAO,MAAM,QAAQ,YAAY,SAAY,IAAI,CAAC;AAAA,EACtF;AAEA,QAAM,YAAY,WAAW;AAC7B,QAAM,YAAY,YAAY,eAAe;AAG7C,MAAI,cAAc,OAAO,IAAI,OAAO;AAEpC,MAAI,CAAC,aAAa;AACjB,kBAAc;AAAA,MACb;AAAA,MACA;AAAA,IACD;AACA,UAAM,MAAM,UAAU;AAAA,MACrB;AAAA,MACA,SAAS;AACR,YAAI,UAAU,EAAE,WAAW,YAAY,OAAO,YAAY,KAAK;AAC/D,oBAAY,YAAY;AAGxB,YAAI,QAAQ,UAAU,KAAK,GAAG;AAC7B,oBAAU,EAAE,UAAU,MAAM,OAAO;AAAA,QACpC;AACA,eAAO;AAAA,MACR;AAAA,IACD,CAAC;AACD,QAAI,OAAO,WAAW,QAAQ,aAAa,QAAQ;AACnD,UAAM,MAAM,GAAG;AACf,QAAI,MAAM,SAAS,SAAS;AAC5B,WAAO,IAAI,SAAS,WAAW;AAC/B,YAAQ,iBAAiB,iBAAiB,MAAM,IAAI,QAAQ,GAAG,EAAE,MAAM,KAAK,CAAC;AAAA,EAC9E,OAAO;AACN,gBAAY,QAAQ;AACpB,gBAAY,QAAQ;AACpB,gBAAY,UAAU,aAAa;AAAA,EACpC;AACD;AAED,SAAS,QAAQ,IAAI;AACpB,QAAM,cAAc,yBAAI;AACxB,SAAO,eAAe,YAAY,SAAS;AAC5C;",
  "names": []
}
