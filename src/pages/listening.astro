---
import Layout from "@/components/astro/layout/Layout.astro";
import ListeningDashboard from "@/components/vue/ListeningDashboard.vue";
import AudioVisualizer from "@/components/vue/AudioVisualizer.vue";

const title = "Listening â€” Waleed Hussain";
const description = "My Spotify listening habits and recently played tracks";
---

<Layout title={title} description={description}>
  <div class="listening-page">
    <div class="visualizer-container">
      <AudioVisualizer client:only="vue" />
    </div>
    <section class="max-w-5xl mx-auto pb-16 px-4 relative z-10">
      <div class="mb-8">
        <h1 class="font-semibold text-3xl md:text-4xl tracking-tight text-gray-900 dark:text-gray-300 mb-3">
          Listening
        </h1>
        <p class="text-gray-600 dark:text-gray-400 text-lg">
          What I've been listening to on Spotify. Stats update every few minutes.
        </p>
      </div>

      <ListeningDashboard client:load />
    </section>
  </div>
</Layout>

<style>
  .listening-page {
    position: relative;
    min-height: 100vh;
  }

  .visualizer-container {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    z-index: 0;
    overflow: hidden;
    pointer-events: none;
  }

  section {
    padding-top: 2rem;
  }
</style>
